<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Inquiry Framework</title>
    <link rel="stylesheet" href="css/grid.css">
    <link rel="stylesheet" href="css/tile.css">
    <link rel="stylesheet" href="css/expander.css">
    <link rel="stylesheet" href="css/tile-modern.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    
    <!-- React Dependencies -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <div class="dif-container">
        <header class="dif-header">
            <h1 class="dif-modern-title">War of 1812</h1>
        </header>
        
        <!-- Main Grid Container -->
        <div class="dif-grid">
          <!-- Modern Text Tile -->
          <div class="dif-tile dif-tile-modern"
               data-supabase-id="789" 
               data-record-type="Product">
              <div class="modern-frame">
                  <div class="record-type-modern product">Book</div>
                  
                  <!-- Expander compatibility structure -->
                  <div class="preview-word-group">
                      <div class="preview-word subject">The War of 1812: A forgotten conflict</div>
                      <div class="preview-word class">Historical Non Fiction</div>
                      <div class="preview-word breadcrumb">Military History</div>
                      <div class="preview-word colorword">Sir George Prevost</div>
                  </div>
                  
                  <h3 class="modern-title">The War of 1812: A forgotten conflict</h3>
                  
                  <div class="modern-section">
                      <span class="modern-section-label">Book Type:</span>
                      <div class="modern-tag">Historical Non Fiction</div>
                  </div>
                  
                  <div class="modern-section">
                      <span class="modern-section-label">Key Figure:</span>
                      <span class="modern-tag">Sir George Prevost</span>
                  </div>
                  
                  <div class="modern-section">
                      <span class="modern-section-label">Themes:</span>
                      <div class="modern-tag-container">
                          <span class="modern-tag">Political Intrigue</span>
                          <span class="modern-tag">Military Strategy</span>
                          <span class="modern-tag">Societal Impact</span>
                      </div>
                  </div>
              </div>
          </div>

          <!-- Modern Image Tile -->
          <div class="dif-tile dif-tile-modern"
               data-supabase-id="101" 
               data-record-type="Insight">
              <div class="modern-frame has-image">
                  <div class="record-type-modern person">Podcast Episode</div>
                  
                  <!-- Expander compatibility structure -->
                  <div class="preview-word-group">
                      <div class="preview-word subject">Industrial Revolution</div>
                      <div class="preview-word class">Historical Era</div>
                      <div class="preview-word breadcrumb">Manufacturing</div>
                      <div class="preview-word colorword">1760-1840</div>
                  </div>
                  
                  <img src="https://cropper.watch.aetnd.com/public-content-aetn.video.aetnd.com/video-thumbnails/AETN-History_VMS/21/133/History_Andrew_Jackson_Defends_New_Orleans_1812_rev_SF_HD_1104x622-16x9.jpg" alt="Industrial Revolution">
                  <div class="image-overlay"></div>
                  <div class="image-content">
                      <span class="image-tag">Historical Era</span>
                      <h3 class="image-title">Industrial Revolution</h3>
                      <p class="image-subtitle">The transformation of manufacturing processes</p>
                      <span class="image-tag">1760-1840</span>
                  </div>
              </div>
          </div>
        </div>

        <!-- React Mount Point -->
        <div id="expander-root"></div>
    </div>

    <!-- React Component -->
    <script type="text/babel" src="js/ExpanderComponent.jsx"></script>
    
    <!-- React Initialization -->
    <script type="text/babel">
        const root = ReactDOM.createRoot(document.getElementById('expander-root'));
        
        document.querySelector('.dif-grid').addEventListener('click', (e) => {
            const tile = e.target.closest('.dif-tile');
            if (tile) {
                const content = {
                    type: tile.dataset.recordType,
                    subject: tile.querySelector('.preview-word.subject')?.textContent,
                    class: tile.querySelector('.preview-word.class')?.textContent,
                    description: "This comprehensive and authoritative history of the War of 1812, thoroughly revised for the 200th anniversary of the historic conflict, is a myth-shattering study that will inform and entertain students, historians, and general readers alike. Donald R. Hickey explores the military, diplomatic, and domestic history of our second war with Great Britain, bringing the study up to date with recent scholarship on all aspects of the war, from the Gulf of Mexico to Canada. The newly expanded The War of 1812: A Forgotten Conflict, Bicentennial Edition includes additional information on the British forces, American Indians, and military operations such as the importance of logistics and the use and capabilities of weaponry.",
                    breadcrumbs: [tile.querySelector('.preview-word.breadcrumb')?.textContent],
                    colorWords: [tile.querySelector('.preview-word.colorword')?.textContent],
                    links: [
                        { text: "Related Documents", url: "#", type: "reference" },
                        { text: "Purchase Book", url: "#", type: "purchase" }
                    ],
                    image: tile.querySelector('img')?.src || "/api/placeholder/400/320"
                };

                root.render(
                    <Expander 
                        isOpen={true}
                        content={content}
                        onClose={() => root.render(null)}
                    />
                );
            }
        });
    </script>
</body>
</html>